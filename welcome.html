<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Welcome | Death2Data</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:ui-monospace,monospace;
  background:#000;
  color:#fff;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}
.container{
  max-width:600px;
  text-align:center;
}
h1{
  font-size:clamp(1.5rem,5vw,2.5rem);
  margin-bottom:20px;
}
h1 span{color:#0f0}
p{
  color:#888;
  line-height:1.7;
  margin-bottom:20px;
}
.token-box{
  background:#0a0a0a;
  border:2px solid #0f0;
  padding:30px;
  margin:30px 0;
}
.token{
  font-size:1.2rem;
  color:#0f0;
  word-break:break-all;
  margin:20px 0;
  user-select:all;
}
.btn{
  display:inline-block;
  padding:18px 40px;
  background:#0f0;
  color:#000;
  text-decoration:none;
  font-weight:700;
  margin:10px 5px;
}
.btn:hover{background:#fff}
.btn-outline{
  background:none;
  border:1px solid #333;
  color:#666;
}
.btn-outline:hover{
  border-color:#0f0;
  color:#0f0;
  background:none;
}
.small{
  font-size:0.8rem;
  color:#444;
  margin-top:30px;
}
</style>
</head>
<body>

<div class="container">
  <h1><span>✓</span> PAYMENT SUCCESSFUL</h1>

  <p>Welcome to Death2Data. You now have access to all privacy tools for 30 days.</p>

  <div class="token-box">
    <p style="color:#666;font-size:0.75rem;letter-spacing:0.2em;margin-bottom:15px">YOUR ACCESS TOKEN</p>
    <div class="token" id="token">Loading...</div>
    <button class="btn" onclick="copyToken()">COPY TOKEN</button>
  </div>

  <p>This token is your key to accessing all D2D tools. Save it somewhere safe.</p>

  <a href="/tools.html" class="btn">ACCESS TOOLS →</a>

  <p class="small">
    You'll also receive an email with your access token and instructions.
    <br><br>
    Token expires: <span id="expires">30 days from now</span>
  </p>

  <div style="margin-top:40px;padding-top:40px;border-top:1px solid #222">
    <p style="color:#666;font-size:0.9rem">Questions? Email hello@death2data.com</p>
  </div>
</div>

<script>
// Get token from URL parameter or generate one for demo
const urlParams = new URLSearchParams(window.location.search);
const token = urlParams.get('token');

if (token) {
  // Token provided in URL
  document.getElementById('token').textContent = token;
  localStorage.setItem('d2d_access_token', token);
} else {
  // Check localStorage
  const savedToken = localStorage.getItem('d2d_access_token');
  if (savedToken) {
    document.getElementById('token').textContent = savedToken;
  } else {
    // Generate a placeholder (in production, this comes from webhook)
    const placeholderToken = 'd2d_' + Array.from({length: 32}, () =>
      Math.floor(Math.random() * 16).toString(16)
    ).join('');
    document.getElementById('token').textContent = placeholderToken;
    localStorage.setItem('d2d_access_token', placeholderToken);
  }
}

// Set expiration date
const expires = new Date();
expires.setDate(expires.getDate() + 30);
document.getElementById('expires').textContent = expires.toLocaleDateString();

function copyToken() {
  const token = document.getElementById('token').textContent;
  navigator.clipboard.writeText(token);

  // Visual feedback
  const btn = event.target;
  const originalText = btn.textContent;
  btn.textContent = '✓ COPIED';
  setTimeout(() => {
    btn.textContent = originalText;
  }, 2000);
}
</script>

</body>
</html>
